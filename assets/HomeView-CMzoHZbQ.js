import{u as B,r as u,c as U,o as a,a as i,b as e,w as p,v as F,F as m,d as v,e as D,f as I,g as f,h as A,t as _,p as Y,i as E}from"./index-D2f9-BtN.js";import{u as H,_ as L,c as R,i as z,a as G}from"./Header-CKR2TlRG.js";import{_ as J,T as K}from"./TrashIcon-Dt_JEqfq.js";const c=r=>(Y("data-v-a447e70b"),r=r(),E(),r),O={class:"flex flex-row"},P={class:"mb-4 px-2 w-full"},Q=c(()=>e("label",{class:"block mb-2 text-sm",for:"input1"},"Category",-1)),W=["value"],X={class:"mb-4 px-2 w-full"},Z=c(()=>e("label",{class:"block mb-2 text-sm",for:"input1"},"Type",-1)),ee=c(()=>e("option",{value:"",disabled:"",selected:""},null,-1)),te=["value"],se={class:"mb-4 px-2 w-full"},le=c(()=>e("label",{for:"text",class:"block mb-2 text-sm"},"Subject",-1)),oe={class:"mb-4 px-2 w-full"},ae=c(()=>e("label",{for:"text",class:"block mb-2 text-sm"},"Description",-1)),ie={class:"mb-4 px-2 w-full flex flex-col"},ne=c(()=>e("div",{class:"mb-4"},[e("label",{for:"text",class:"text-sm py-4"},"Ticket Files & Documents")],-1)),ue={class:"mb-4 w-full"},ce={key:0},re={class:"flex flex-row"},de={class:"text-sm text-blue-900"},me={class:"px-4"},pe=["onClick"],ve={key:0,class:"text-red-700 font-bold text-sm"},_e={class:"py-10 px-2 w-full flex justify-between"},fe=c(()=>e("button",{class:"bg-slate-900 text-white text-sm font-bold px-2 py-2 rounded"}," Submit ",-1)),he={__name:"TicketForm",setup(r){const x=B(),y=H(),S=u([...R]),g=u([...z]),o=u({category:"",selectedItems:[],subject:"",description:"",addedFiles:[]}),w=u(null),n=u([]),h=u(0),d=u([]),T=U(()=>o.value.category?g.value.filter(s=>s.category===o.value.category):g.value),C=s=>{s.target.style.overflowY="hidden",s.target.style.height="32px"},V=s=>{s.target.style.overflowY="scroll",s.target.style.height="auto"},j=s=>{let l=s.target.files;for(let t=0;t<l.length;t++){let b=l[t].name.split(".");h.value++;const $=b[0]+h.value.toString()+"."+b[1];n.value.push({...l[t],name:$})}},q=()=>{if(d.value=[],N(),d.value.length>0)return;const s=Math.floor(Math.random()*1e6);w.value={...o.value,addedFiles:[...n.value],id:s},y.addNewTicket({...w.value}),x.push(`/ticket/${s}`),k()},N=()=>{n.value.length<1&&d.value.push("File is required")},k=()=>{o.value={category:"",selectedItems:[],subject:"",description:"",addedFiles:[]},h.value=0},M=s=>{n.value=n.value.filter(l=>l.name!==s)};return(s,l)=>(a(),i("form",{id:"form",onSubmit:A(q,["prevent"])},[e("div",O,[e("div",P,[Q,p(e("select",{class:"w-full border px-3 py-1 rounded",id:"category",required:"","onUpdate:modelValue":l[0]||(l[0]=t=>o.value.category=t)},[(a(!0),i(m,null,v(S.value,t=>(a(),i("option",{key:t.id,value:t.value},_(t.text),9,W))),128))],512),[[F,o.value.category]])]),e("div",X,[Z,p(e("select",{id:"items-dropdown",multiple:"true",required:"",class:"w-full border px-4 py-2 rounded","onUpdate:modelValue":l[1]||(l[1]=t=>o.value.selectedItems=t),onBlur:C,onFocus:V},[ee,(a(!0),i(m,null,v(T.value,t=>(a(),i("option",{key:t.id,value:t.value},_(t.text),9,te))),128))],544),[[F,o.value.selectedItems]])])]),e("div",se,[le,p(e("input",{required:"",type:"text",id:"subject",class:"w-full p-1","onUpdate:modelValue":l[2]||(l[2]=t=>o.value.subject=t)},null,512),[[D,o.value.subject]])]),e("div",oe,[ae,p(e("input",{required:"",type:"text",id:"description",class:"w-full p-1","onUpdate:modelValue":l[3]||(l[3]=t=>o.value.description=t)},null,512),[[D,o.value.description]])]),e("div",ie,[ne,e("div",ue,[n.value.length?(a(),i("ul",ce,[(a(!0),i(m,null,v(n.value,t=>(a(),i("li",{class:"py-1",key:t.name},[e("div",re,[e("p",de,_(t.name),1),e("div",me,[e("button",{onClick:b=>M(t.name)},[f(K)],8,pe)])])]))),128))])):I("",!0)]),e("div",null,[e("input",{multiple:"",type:"file",id:"file",class:"block w-full text-sm",onChange:j},null,32)])]),d.value.length?(a(),i("div",ve,[e("ul",null,[(a(!0),i(m,null,v(d.value,t=>(a(),i("li",null,_(t),1))),256))])])):I("",!0),e("div",_e,[e("div",null,[f(L,{linkName:"All Tickets",path:"/ticketlist"})]),e("div",null,[e("button",{class:"px-2 text-sm",onClick:k},"Cancel"),fe])])],32))}},be=J(he,[["__scopeId","data-v-a447e70b"]]),we={__name:"HomeView",setup(r){return(x,y)=>(a(),i(m,null,[f(G,{title:"Ticket Details"}),f(be)],64))}};export{we as default};
